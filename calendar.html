<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3Q0YDB1HWQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-3Q0YDB1HWQ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programs & Events - Ramakrishna Vedanta Society of North Texas</title>
    <link href="styles.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        /* Program Finder Styles */
        .program-finder-hero {
            background: linear-gradient(135deg, #f5f1ea 0%, #efe8dc 100%);
            padding: 4rem 0 3rem;
            text-align: center;
        }
        
        .program-finder-hero h1 {
            font-family: var(--font-display);
            font-size: 2.75rem;
            color: var(--color-text);
            margin-bottom: 0.75rem;
        }
        
        .program-finder-hero p {
            font-size: 1.15rem;
            color: var(--color-text-light);
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        
        /* Search Box */
        .search-box {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 1rem 1.5rem 1rem 3rem;
            border: 2px solid #e0d8cc;
            border-radius: 50px;
            font-size: 1rem;
            background: white;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 4px 20px rgba(255, 153, 51, 0.15);
        }
        
        .search-box svg {
            position: absolute;
            left: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }
        
        /* Filter Section */
        .filter-section {
            background: white;
            padding: 1.5rem 0;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .filter-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
        }
        
        .filter-pill {
            padding: 0.6rem 1.25rem;
            border: 2px solid #e0d8cc;
            border-radius: 50px;
            background: white;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text);
            cursor: pointer;
            transition: all 0.25s;
        }
        
        .filter-pill:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }
        
        .filter-pill.active {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: white;
        }
        
        .filter-pill .count {
            display: inline-block;
            background: rgba(0,0,0,0.1);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-left: 6px;
        }
        
        .filter-pill.active .count {
            background: rgba(255,255,255,0.25);
        }
        
        /* Programs Grid */
        .programs-section {
            padding: 3rem 0 4rem;
            background: #faf8f5;
            min-height: 60vh;
        }
        
        .programs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 1.5rem;
        }
        
        /* Program Card */
        .program-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .program-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0,0,0,0.1);
        }
        
        .program-card-header {
            padding: 1.25rem 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }
        
        .program-date-badge {
            background: linear-gradient(135deg, var(--color-primary) 0%, #e06600 100%);
            color: white;
            padding: 0.75rem;
            border-radius: 12px;
            text-align: center;
            min-width: 70px;
            flex-shrink: 0;
        }
        
        .program-date-badge .month {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
        }
        
        .program-date-badge .day {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .program-date-badge .year {
            font-size: 0.75rem;
            opacity: 0.85;
        }
        
        .program-card-header h3 {
            font-size: 1.15rem;
            color: var(--color-text);
            margin: 0;
            line-height: 1.4;
        }
        
        .program-card-body {
            padding: 0 1.5rem 1.25rem;
            flex: 1;
        }
        
        .program-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
        }
        
        .program-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--color-text-light);
        }
        
        .program-meta svg {
            width: 16px;
            height: 16px;
            color: var(--color-primary);
        }
        
        .program-description {
            color: var(--color-text-light);
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 0;
        }
        
        .program-card-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }
        
        .program-tag {
            display: inline-block;
            padding: 4px 12px;
            background: #f5f1ea;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--color-text);
        }
        
        .program-tag.weekly { background: #e8f4f0; color: #2a7a5a; }
        .program-tag.special { background: #fff3e6; color: #cc6600; }
        .program-tag.festival { background: #f0e8f5; color: #7a4a9a; }
        .program-tag.retreat { background: #e8f0f8; color: #3a6a9a; }
        .program-tag.online { background: #e8f8f0; color: #2a8a5a; }
        
        .program-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .program-btn {
            padding: 6px 14px;
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .program-btn-primary {
            background: var(--color-primary);
            color: white;
        }
        
        .program-btn-primary:hover {
            background: #e06600;
        }
        
        .program-btn-secondary {
            background: #f5f1ea;
            color: var(--color-text);
        }
        
        .program-btn-secondary:hover {
            background: #ebe5d9;
        }
        
        /* Zoom Info */
        .zoom-info {
            background: #f8f8f8;
            padding: 0.75rem 1rem;
            margin-top: 0.75rem;
            border-radius: 8px;
            font-size: 0.85rem;
        }
        
        .zoom-info a {
            color: var(--color-primary);
            text-decoration: none;
        }
        
        .zoom-info a:hover {
            text-decoration: underline;
        }
        
        /* Weekly Schedule Section */
        .weekly-schedule-section {
            background: white;
            padding: 3rem 0;
            border-top: 1px solid #eee;
        }
        
        .weekly-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .weekly-card {
            background: linear-gradient(135deg, #f5f1ea 0%, #fff 100%);
            border-radius: 16px;
            padding: 1.5rem;
            border-left: 4px solid var(--color-primary);
        }
        
        .weekly-card h3 {
            font-size: 1.1rem;
            color: var(--color-text);
            margin: 0 0 0.5rem;
        }
        
        .weekly-card .time {
            color: var(--color-primary);
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.75rem;
        }
        
        .weekly-card p {
            color: var(--color-text-light);
            font-size: 0.9rem;
            line-height: 1.6;
            margin: 0;
        }
        
        /* No results */
        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--color-text-light);
        }
        
        .no-results svg {
            width: 64px;
            height: 64px;
            margin-bottom: 1rem;
            opacity: 0.4;
        }
        
        /* View Toggle */
        .view-toggle {
            display: flex;
            justify-content: center;
            gap: 0;
            margin-bottom: 1.5rem;
        }
        
        .view-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e0d8cc;
            background: white;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--color-text);
            cursor: pointer;
            transition: all 0.25s ease;
        }
        
        .view-btn:first-child {
            border-radius: 8px 0 0 8px;
            border-right: 1px solid #e0d8cc;
        }
        
        .view-btn:last-child {
            border-radius: 0 8px 8px 0;
            border-left: 1px solid #e0d8cc;
        }
        
        .view-btn:hover {
            background: #f5f1ea;
        }
        
        .view-btn.active {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: white;
        }
        
        /* Monthly Calendar */
        .monthly-view {
            display: none;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .monthly-view.active {
            display: block;
        }
        
        .month-nav {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .month-nav h2 {
            font-family: var(--font-display);
            font-size: 1.5rem;
            color: var(--color-text);
            min-width: 200px;
            text-align: center;
            margin: 0;
        }
        
        .month-nav-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #e0d8cc;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .month-nav-btn:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }
        
        .month-nav-btn svg {
            width: 20px;
            height: 20px;
        }
        
        .calendar-grid {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            background: linear-gradient(135deg, #f5f1ea 0%, #efe8dc 100%);
            border-bottom: 1px solid #e0d8cc;
        }
        
        .calendar-header span {
            padding: 1rem 0.5rem;
            text-align: center;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--color-text);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .calendar-body {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
        }
        
        .calendar-day {
            min-height: 80px;
            padding: 0.5rem;
            border: 1px solid #f0ebe3;
            border-top: none;
            border-left: none;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .calendar-day:nth-child(7n) {
            border-right: none;
        }
        
        .calendar-day:hover {
            background: #faf8f5;
        }
        
        .calendar-day.other-month {
            background: #fafafa;
            color: #ccc;
        }
        
        .calendar-day.today {
            background: #fff8f0;
        }
        
        .calendar-day.today .day-number {
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calendar-day.selected {
            background: #fff3e6;
            box-shadow: inset 0 0 0 2px var(--color-primary);
        }
        
        .day-number {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--color-text);
            margin-bottom: 4px;
        }
        
        .day-events {
            display: flex;
            flex-wrap: wrap;
            gap: 3px;
        }
        
        .event-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--color-primary);
        }
        
        .event-dot.festival { background: #9a4a9a; }
        .event-dot.retreat { background: #3a6a9a; }
        .event-dot.special { background: #cc6600; }
        .event-dot.weekly { background: #2a7a5a; }
        
        /* Selected Day Events */
        .selected-day-events {
            margin-top: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            display: none;
        }
        
        .selected-day-events.active {
            display: block;
        }
        
        .selected-day-events h3 {
            font-family: var(--font-display);
            font-size: 1.25rem;
            margin: 0 0 1rem;
            color: var(--color-text);
        }
        
        .selected-day-event {
            padding: 1rem;
            background: #f5f1ea;
            border-radius: 12px;
            margin-bottom: 0.75rem;
            border-left: 4px solid var(--color-primary);
        }
        
        .selected-day-event:last-child {
            margin-bottom: 0;
        }
        
        .selected-day-event h4 {
            font-size: 1rem;
            margin: 0 0 0.5rem;
            color: var(--color-text);
        }
        
        .selected-day-event p {
            font-size: 0.9rem;
            color: var(--color-text-light);
            margin: 0;
            line-height: 1.5;
        }
        
        .selected-day-event .event-time {
            font-weight: 500;
            color: var(--color-primary);
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }
        
        /* Calendar Legend */
        .calendar-legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--color-text-light);
        }
        
        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .legend-dot.festival { background: #9a4a9a; }
        .legend-dot.retreat { background: #3a6a9a; }
        .legend-dot.special { background: #cc6600; }
        
        /* View All Button */
        .view-all-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--color-primary);
            background: white;
            color: var(--color-primary);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .view-all-btn:hover {
            background: var(--color-primary);
            color: white;
        }

        /* Hide filters in monthly view */
        .filter-section.hidden {
            display: none;
        }
        
        .programs-section.hidden {
            display: none;
        }

        /* Mobile */
        @media (max-width: 600px) {
            .program-finder-hero h1 {
                font-size: 2rem;
            }
            
            .filter-pills {
                justify-content: flex-start;
                padding: 0 1rem;
                overflow-x: auto;
                flex-wrap: nowrap;
                -webkit-overflow-scrolling: touch;
            }
            
            .filter-pill {
                white-space: nowrap;
            }
            
            .programs-grid {
                grid-template-columns: 1fr;
            }
            
            .program-card-header {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .program-date-badge {
                flex-direction: row;
                gap: 8px;
                min-width: auto;
                padding: 0.5rem 1rem;
            }
            
            .program-date-badge .day {
                font-size: 1.25rem;
            }
            
            /* Monthly calendar mobile */
            .view-toggle {
                margin-bottom: 1rem;
            }
            
            .view-btn {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
            
            .month-nav h2 {
                font-size: 1.2rem;
                min-width: 150px;
            }
            
            .calendar-header span {
                padding: 0.75rem 0.25rem;
                font-size: 0.7rem;
            }
            
            .calendar-day {
                min-height: 60px;
                padding: 0.35rem;
            }
            
            .day-number {
                font-size: 0.8rem;
            }
            
            .event-dot {
                width: 6px;
                height: 6px;
            }
            
            .calendar-legend {
                gap: 1rem;
                font-size: 0.75rem;
            }
            
            .legend-dot {
                width: 8px;
                height: 8px;
            }
            
            .selected-day-events {
                padding: 1rem;
            }
            
            .selected-day-events h3 {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>
    
    <!-- Hero with Search -->
    <section class="program-finder-hero">
        <div class="container">
            <h1>Programs & Events</h1>
            <p>Discover spiritual programs, retreats, and celebrations at our center</p>
            <div class="search-box">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="program-search" placeholder="Search programs..." oninput="filterPrograms()">
            </div>
            
            <!-- View Toggle -->
            <div class="view-toggle">
                <button class="view-btn active" id="list-view-btn" onclick="setView('list')">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px; vertical-align: middle;">
                        <line x1="8" y1="6" x2="21" y2="6"></line>
                        <line x1="8" y1="12" x2="21" y2="12"></line>
                        <line x1="8" y1="18" x2="21" y2="18"></line>
                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                    </svg>
                    List
                </button>
                <button class="view-btn" id="monthly-view-btn" onclick="setView('monthly')">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px; vertical-align: middle;">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    Monthly
                </button>
            </div>
        </div>
    </section>
    
    <!-- Filter Pills -->
    <section class="filter-section">
        <div class="container">
            <div class="filter-pills">
                <button class="filter-pill active" data-filter="all" onclick="setFilter('all')">All Programs <span class="count" id="count-all">0</span></button>
                <button class="filter-pill" data-filter="weekly" onclick="setFilter('weekly')">Weekly <span class="count" id="count-weekly">0</span></button>
                <button class="filter-pill" data-filter="special" onclick="setFilter('special')">Special Events <span class="count" id="count-special">0</span></button>
                <button class="filter-pill" data-filter="festival" onclick="setFilter('festival')">Festivals <span class="count" id="count-festival">0</span></button>
                <button class="filter-pill" data-filter="retreat" onclick="setFilter('retreat')">Retreats <span class="count" id="count-retreat">0</span></button>
            </div>
        </div>
    </section>
    
    <!-- Programs Grid (List View) -->
    <section class="programs-section" id="list-view">
        <div class="container">
            <div class="programs-grid" id="programs-grid">
                <!-- Programs will be rendered by JavaScript -->
            </div>
            <div class="no-results" id="no-results" style="display: none;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <h3>No programs found</h3>
                <p>Try adjusting your search or filter</p>
            </div>
        </div>
    </section>
    
    <!-- Monthly Calendar View -->
    <section class="programs-section monthly-view" id="monthly-view">
        <div class="container">
            <div class="month-nav">
                <button class="month-nav-btn" onclick="changeMonth(-1)" aria-label="Previous month">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <h2 id="current-month">February 2026</h2>
                <button class="month-nav-btn" onclick="changeMonth(1)" aria-label="Next month">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </button>
            </div>
            
            <div class="calendar-grid">
                <div class="calendar-header">
                    <span>Sun</span>
                    <span>Mon</span>
                    <span>Tue</span>
                    <span>Wed</span>
                    <span>Thu</span>
                    <span>Fri</span>
                    <span>Sat</span>
                </div>
                <div class="calendar-body" id="calendar-body">
                    <!-- Calendar days rendered by JavaScript -->
                </div>
            </div>
            
            <div class="calendar-legend">
                <div class="legend-item"><span class="legend-dot festival"></span> Festival</div>
                <div class="legend-item"><span class="legend-dot retreat"></span> Retreat</div>
                <div class="legend-item"><span class="legend-dot special"></span> Special Event</div>
            </div>
            
            <div class="selected-day-events active" id="selected-day-events">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3 id="selected-day-title" style="margin: 0;">Events in February 2026</h3>
                    <button id="view-all-btn" class="view-all-btn" onclick="showAllMonthEvents()" style="display: none;">
                        ‚Üê View all events
                    </button>
                </div>
                <div id="selected-day-content">
                    <!-- Events for selected day or month -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Weekly Schedule -->
    <section class="weekly-schedule-section">
        <div class="container">
            <h2 class="section-title" style="text-align: center;">Weekly Schedule</h2>
            <p style="text-align: center; color: var(--color-text-light); margin-bottom: 0;">Join us every week for these regular programs</p>
            
            <div class="weekly-grid">
                <div class="weekly-card">
                    <h3>üïâÔ∏è Sunday Service</h3>
                    <div class="time">Every Sunday ‚Ä¢ 11:00 AM - 12:30 PM</div>
                    <p>Silent meditation followed by spiritual discourse and discussion. Available in-person and online via Zoom.</p>
                    <div class="zoom-info">
                        <strong>Zoom:</strong> <a href="https://us02web.zoom.us/j/87900497480" target="_blank">Meeting ID: 879 0049 7480</a>
                    </div>
                </div>
                
                <div class="weekly-card">
                    <h3>üìø Raja Yoga Study Circle</h3>
                    <div class="time">Every Thursday ‚Ä¢ 7:00 PM - 8:30 PM</div>
                    <p>Study of Patanjali's Yoga Sutras and practical meditation techniques. Open to beginners and experienced practitioners.</p>
                    <div class="zoom-info">
                        <strong>Zoom:</strong> <a href="https://us02web.zoom.us/j/84119327910" target="_blank">Meeting ID: 841 1932 7910</a>
                    </div>
                </div>
                
                <div class="weekly-card">
                    <h3>ü™î Saturday Evening Arati</h3>
                    <div class="time">Every Saturday ‚Ä¢ 6:00 PM - 7:00 PM</div>
                    <p>In-person devotional worship service with traditional arati ceremony. A beautiful way to end the week.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- CTA -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Stay Updated</h2>
                <p>Subscribe to receive updates about upcoming events and programs</p>
                <div class="cta-buttons">
                    <a class="btn btn-primary" href="newsletter.html">Subscribe</a>
                    <a class="btn btn-secondary" href="contactus.html">Contact Us</a>
                </div>
            </div>
        </div>
    </section>
    
    <div id="footer-placeholder"></div>
    
    <script src="script.js"></script>
    <script>
        // Program data - single source of truth
        const programs = [
            {
                id: 3,
                title: "Swami Ishadhyanananda ji's Visit",
                date: "2026-03-27",
                dateDisplay: { month: "Mar", day: "27-29", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat and spiritual programs with Swami Ishadhyanananda ji. Inspiring talks and meditation sessions.",
                category: "retreat",
                tags: ["retreat"]
            },
            {
                id: 4,
                title: "Ramnavami Puja",
                date: "2026-03-29",
                dateDisplay: { month: "Mar", day: "29", year: "2026" },
                time: "Sunday",
                description: "Celebration of Lord Rama's birth anniversary with special puja and devotional programs.",
                category: "festival",
                tags: ["festival"]
            },
            {
                id: 5,
                title: "Swami Nirakarananda ji's Visit",
                date: "2026-04-17",
                dateDisplay: { month: "Apr", day: "17-19", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat and spiritual programs with Swami Nirakarananda ji.",
                category: "retreat",
                tags: ["retreat"]
            },
\        ];

        const allPrograms = [
            {
                id: 1,
                title: "Shivaratri Puja",
                date: "2026-02-15",
                dateDisplay: { month: "Feb", day: "15", year: "2026" },
                time: "6:30 PM - 8:15 PM",
                description: "Special worship celebrating Maha Shivaratri with traditional rituals, devotional songs, readings, arati, flower offering, and supper prasad.",
                category: "festival",
                tags: ["festival", "online"],
                zoom: "879 0049 7480",
                featured: true
            },
            {
                id: 2,
                title: "Sri Ramakrishna's Birth Observance",
                date: "2026-02-22",
                dateDisplay: { month: "Feb", day: "22", year: "2026" },
                time: "10:30 AM - 1:30 PM",
                description: "Celebration with special puja, devotional singing, talks on his life and teachings, refreshments, and lunch prasad.",
                category: "festival",
                tags: ["festival", "online"],
                zoom: "879 0049 7480",
                featured: true
            },
            {
                id: 3,
                title: "Swami Ishadhyanananda ji's Visit",
                date: "2026-03-27",
                dateDisplay: { month: "Mar", day: "27-29", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat and spiritual programs with Swami Ishadhyanananda ji. Inspiring talks and meditation sessions.",
                category: "retreat",
                tags: ["retreat"]
            },
            {
                id: 4,
                title: "Ramnavami Puja",
                date: "2026-03-29",
                dateDisplay: { month: "Mar", day: "29", year: "2026" },
                time: "Sunday",
                description: "Celebration of Lord Rama's birth anniversary with special puja and devotional programs.",
                category: "festival",
                tags: ["festival"]
            },
            {
                id: 5,
                title: "Swami Nirakarananda ji's Visit",
                date: "2026-04-17",
                dateDisplay: { month: "Apr", day: "17-19", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat and spiritual programs with Swami Nirakarananda ji.",
                category: "retreat",
                tags: ["retreat"]
            },
            {
                id: 6,
                title: "Rev. Swami Sarvadevananda ji's Visit",
                date: "2026-04-30",
                dateDisplay: { month: "Apr-May", day: "30-2", year: "2026" },
                time: "Thursday - Saturday",
                description: "Spiritual retreat and programs with Rev. Swami Sarvadevananda ji.",
                category: "retreat",
                tags: ["retreat"]
            },
            {
                id: 7,
                title: "Buddha Purnima",
                date: "2026-05-01",
                dateDisplay: { month: "May", day: "1", year: "2026" },
                time: "Friday",
                description: "Celebration of Buddha's birth, enlightenment, and parinirvana with meditation and readings.",
                category: "festival",
                tags: ["festival"]
            },
            {
                id: 8,
                title: "Swami Sarvapriyananda ji's Visit",
                date: "2026-06-12",
                dateDisplay: { month: "Jun", day: "12-14", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat with the renowned Swami Sarvapriyananda ji from the Vedanta Society of New York. A rare opportunity for deep spiritual learning.",
                category: "retreat",
                tags: ["retreat"],
                featured: true
            },
            {
                id: 9,
                title: "Swami Shivarchanananda ji's Visit",
                date: "2026-08-29",
                dateDisplay: { month: "Aug", day: "29-30", year: "2026" },
                time: "Saturday - Sunday",
                description: "Weekend retreat and spiritual programs with Swami Shivarchanananda ji.",
                category: "retreat",
                tags: ["retreat"]
            },
            {
                id: 10,
                title: "Janmashtami Puja",
                date: "2026-08-30",
                dateDisplay: { month: "Aug", day: "30", year: "2026" },
                time: "Sunday",
                description: "Celebration of Lord Krishna's birth anniversary with special puja, devotional singing, and traditional observances.",
                category: "festival",
                tags: ["festival"]
            },
            {
                id: 11,
                title: "Pravrajikas' Visit",
                date: "2026-09-18",
                dateDisplay: { month: "Sep", day: "18-20", year: "2026" },
                time: "Friday - Sunday",
                description: "Weekend retreat with Pravrajika Divyanandaprana ji and Pravrajika Brahmaprana ji.",
                category: "retreat",
                tags: ["retreat"]
            }
        ];
        
        let currentFilter = 'all';
        let searchQuery = '';
        
        function renderPrograms() {
            const grid = document.getElementById('programs-grid');
            const noResults = document.getElementById('no-results');
            
            // Filter programs
            let filtered = programs.filter(p => {
                const matchesFilter = currentFilter === 'all' || p.category === currentFilter;
                const matchesSearch = searchQuery === '' || 
                    p.title.toLowerCase().includes(searchQuery) ||
                    p.description.toLowerCase().includes(searchQuery);
                return matchesFilter && matchesSearch;
            });
            
            // Sort by date
            filtered.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            // Update counts
            document.getElementById('count-all').textContent = programs.length;
            document.getElementById('count-weekly').textContent = programs.filter(p => p.category === 'weekly').length;
            document.getElementById('count-special').textContent = programs.filter(p => p.category === 'special').length;
            document.getElementById('count-festival').textContent = programs.filter(p => p.category === 'festival').length;
            document.getElementById('count-retreat').textContent = programs.filter(p => p.category === 'retreat').length;
            
            if (filtered.length === 0) {
                grid.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            grid.innerHTML = filtered.map(p => `
                <div class="program-card" data-category="${p.category}">
                    <div class="program-card-header">
                        <div class="program-date-badge">
                            <div class="month">${p.dateDisplay.month}</div>
                            <div class="day">${p.dateDisplay.day}</div>
                            <div class="year">${p.dateDisplay.year}</div>
                        </div>
                        <h3>${p.title}</h3>
                    </div>
                    <div class="program-card-body">
                        <div class="program-meta">
                            <span>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                ${p.time}
                            </span>
                            ${p.zoom ? `<span>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M15 10l5-3v10l-5-3z"></path>
                                    <rect x="1" y="6" width="14" height="12" rx="2" ry="2"></rect>
                                </svg>
                                Online Available
                            </span>` : ''}
                        </div>
                        <p class="program-description">${p.description}</p>
                        ${p.zoom ? `<div class="zoom-info">
                            <strong>Zoom:</strong> <a href="https://us02web.zoom.us/j/${p.zoom.replace(/\s/g, '')}" target="_blank">Meeting ID: ${p.zoom}</a>
                        </div>` : ''}
                    </div>
                    <div class="program-card-footer">
                        <div>
                            ${p.tags.map(t => `<span class="program-tag ${t}">${t.charAt(0).toUpperCase() + t.slice(1)}</span>`).join(' ')}
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-pill').forEach(pill => {
                pill.classList.toggle('active', pill.dataset.filter === filter);
            });
            renderPrograms();
        }
        
        function filterPrograms() {
            searchQuery = document.getElementById('program-search').value.toLowerCase();
            renderPrograms();
        }
        
        // View switching
        let currentView = 'list';
        let currentMonthDate = new Date(2026, 1, 1); // February 2026
        let selectedDate = null;
        
        function setView(view) {
            currentView = view;
            
            // Toggle button states
            document.getElementById('list-view-btn').classList.toggle('active', view === 'list');
            document.getElementById('monthly-view-btn').classList.toggle('active', view === 'monthly');
            
            // Toggle sections
            document.getElementById('list-view').classList.toggle('hidden', view === 'monthly');
            document.querySelector('.filter-section').classList.toggle('hidden', view === 'monthly');
            document.getElementById('monthly-view').classList.toggle('active', view === 'monthly');
            
            if (view === 'monthly') {
                renderCalendar();
                showAllMonthEvents();
            }
        }
        
        function changeMonth(delta) {
            currentMonthDate.setMonth(currentMonthDate.getMonth() + delta);
            renderCalendar();
            // Show all events for new month
            selectedDate = null;
            showAllMonthEvents();
        }
        
        function renderCalendar() {
            const year = currentMonthDate.getFullYear();
            const month = currentMonthDate.getMonth();
            
            // Update header
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('current-month').textContent = `${monthNames[month]} ${year}`;
            
            // Get first day of month and total days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();
            
            // Get today
            const today = new Date();
            const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
            
            // Build calendar HTML
            let html = '';
            let dayCount = 1;
            let nextMonthDay = 1;
            
            // Calculate total cells needed (6 rows max)
            const totalCells = Math.ceil((firstDay + daysInMonth) / 7) * 7;
            
            for (let i = 0; i < totalCells; i++) {
                let dayNum, isOtherMonth = false, dateStr;
                
                if (i < firstDay) {
                    // Previous month days
                    dayNum = daysInPrevMonth - firstDay + i + 1;
                    isOtherMonth = true;
                    const prevMonth = month === 0 ? 11 : month - 1;
                    const prevYear = month === 0 ? year - 1 : year;
                    dateStr = `${prevYear}-${String(prevMonth + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}`;
                } else if (dayCount > daysInMonth) {
                    // Next month days
                    dayNum = nextMonthDay++;
                    isOtherMonth = true;
                    const nextMonth = month === 11 ? 0 : month + 1;
                    const nextYear = month === 11 ? year + 1 : year;
                    dateStr = `${nextYear}-${String(nextMonth + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}`;
                } else {
                    dayNum = dayCount++;
                    dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}`;
                }
                
                // Check for events on this day
                const dayEvents = programs.filter(p => {
                    const eventDate = p.date;
                    // Handle date ranges (e.g., "2026-03-27" to "2026-03-29")
                    if (eventDate === dateStr) return true;
                    // Check if date falls within multi-day events
                    if (p.dateDisplay.day.includes('-')) {
                        const startDay = parseInt(p.dateDisplay.day.split('-')[0]);
                        const endDay = parseInt(p.dateDisplay.day.split('-')[1]);
                        const eventMonth = p.date.split('-')[1];
                        const eventYear = p.date.split('-')[0];
                        if (String(month + 1).padStart(2, '0') === eventMonth && String(year) === eventYear) {
                            return dayNum >= startDay && dayNum <= endDay && !isOtherMonth;
                        }
                    }
                    return false;
                });
                
                const isToday = isCurrentMonth && dayNum === today.getDate() && !isOtherMonth;
                const isSelected = selectedDate === dateStr;
                
                let classes = 'calendar-day';
                if (isOtherMonth) classes += ' other-month';
                if (isToday) classes += ' today';
                if (isSelected) classes += ' selected';
                
                html += `<div class="${classes}" data-date="${dateStr}" onclick="selectDay('${dateStr}')">
                    <div class="day-number">${dayNum}</div>
                    <div class="day-events">
                        ${dayEvents.map(e => `<span class="event-dot ${e.category}" title="${e.title}"></span>`).join('')}
                    </div>
                </div>`;
            }
            
            document.getElementById('calendar-body').innerHTML = html;
        }
        
        function getMonthEvents(year, month) {
            return programs.filter(p => {
                const [eventYear, eventMonth] = p.date.split('-');
                return parseInt(eventYear) === year && parseInt(eventMonth) === month + 1;
            }).sort((a, b) => new Date(a.date) - new Date(b.date));
        }
        
        function showAllMonthEvents() {
            selectedDate = null;
            
            // Clear selected state on calendar
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            const year = currentMonthDate.getFullYear();
            const month = currentMonthDate.getMonth();
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            
            const monthEvents = getMonthEvents(year, month);
            
            const titleEl = document.getElementById('selected-day-title');
            const contentEl = document.getElementById('selected-day-content');
            const viewAllBtn = document.getElementById('view-all-btn');
            
            titleEl.textContent = `Events in ${monthNames[month]} ${year}`;
            viewAllBtn.style.display = 'none';
            
            if (monthEvents.length === 0) {
                contentEl.innerHTML = '<p style="color: var(--color-text-light); text-align: center; padding: 2rem;">No events scheduled for this month.</p>';
            } else {
                contentEl.innerHTML = monthEvents.map(e => `
                    <div class="selected-day-event" style="border-left-color: ${
                        e.category === 'festival' ? '#9a4a9a' : 
                        e.category === 'retreat' ? '#3a6a9a' : '#cc6600'
                    }">
                        <h4>${e.title}</h4>
                        <div class="event-time">${e.dateDisplay.month} ${e.dateDisplay.day} ‚Ä¢ ${e.time}</div>
                        <p>${e.description}</p>
                        ${e.zoom ? `<p style="margin-top: 0.5rem;"><strong>Zoom:</strong> <a href="https://us02web.zoom.us/j/${e.zoom.replace(/\s/g, '')}" target="_blank">${e.zoom}</a></p>` : ''}
                    </div>
                `).join('');
            }
        }
        
        function selectDay(dateStr) {
            selectedDate = dateStr;
            
            // Update selected state
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.toggle('selected', day.dataset.date === dateStr);
            });
            
            // Get events for this day
            const dayEvents = programs.filter(p => {
                if (p.date === dateStr) return true;
                // Handle multi-day events
                if (p.dateDisplay.day.includes('-')) {
                    const [startDay, endDay] = p.dateDisplay.day.split('-').map(d => parseInt(d));
                    const [eventYear, eventMonth] = p.date.split('-');
                    const [selYear, selMonth, selDay] = dateStr.split('-');
                    if (eventYear === selYear && eventMonth === selMonth) {
                        return parseInt(selDay) >= startDay && parseInt(selDay) <= endDay;
                    }
                }
                return false;
            });
            
            const titleEl = document.getElementById('selected-day-title');
            const contentEl = document.getElementById('selected-day-content');
            const viewAllBtn = document.getElementById('view-all-btn');
            
            // Format date for title
            const d = new Date(dateStr);
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                               'July', 'August', 'September', 'October', 'November', 'December'];
            titleEl.textContent = `Events on ${monthNames[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()}`;
            viewAllBtn.style.display = 'inline-block';
            
            if (dayEvents.length === 0) {
                contentEl.innerHTML = '<p style="color: var(--color-text-light); text-align: center; padding: 1rem;">No events on this day.</p>';
            } else {
                contentEl.innerHTML = dayEvents.map(e => `
                    <div class="selected-day-event" style="border-left-color: ${
                        e.category === 'festival' ? '#9a4a9a' : 
                        e.category === 'retreat' ? '#3a6a9a' : '#cc6600'
                    }">
                        <h4>${e.title}</h4>
                        <div class="event-time">${e.time}</div>
                        <p>${e.description}</p>
                        ${e.zoom ? `<p style="margin-top: 0.5rem;"><strong>Zoom:</strong> <a href="https://us02web.zoom.us/j/${e.zoom.replace(/\s/g, '')}" target="_blank">${e.zoom}</a></p>` : ''}
                    </div>
                `).join('');
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderPrograms();
        });
    </script>
</body>
</html>
